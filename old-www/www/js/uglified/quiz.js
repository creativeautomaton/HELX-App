angular.module("quizApp",["ngCookies"]).controller("QuizCtrl",function(r,e,s,t,a,i,o,n,c,g){r.mode="quiz",r.itemsPerPage=1,r.show={result:!0},r.show={Wrong:!1},r.show={question:!1},r.hide={Question:!1},r.reached={Star:!1},r.helx={Hero:!1},r.current_streak=0,r.star_score=0;var u=g("date")(u,"h 'in the morning'");r.currentDate=u,n.put("date",r.currentDate);n.get("highest_streak");void 0==n.get("highest_streak")?n.put("highest_streak",0):r.highest_streak=n.get("highest_streak");n.get("star_score");void 0==n.get("star_score")?(n.put("star_score",0),r.remaining_Answers=10):n.get("star_score")<0&&(r.star_score=n.get("star_score"),n.put("star_score",r.star_score)),r.currentPage=Math.floor(100*Math.random())+1,r.$on("$ionicView.enter",function(e){n.put("quiz_started",!0),r.quiz_started=n.get("quiz_started"),void 0==n.get("highest_streak")&&n.put("highest_streak",0);var s=n.get("star_score");void 0==n.get("star_score")?(n.put("star_score",0),r.remaining_Answers=10):n.get("star_score")<0&&(r.star_score=n.get("star_score"),n.put("star_score",r.star_score));n.get("highest_streak");void 0==n.get("highest_streak")?n.put("highest_streak",0):r.highest_streak=n.get("highest_streak"),s>9&&(r.stars=[{src:"/img/quiz-star.png",id:1}],console.log(" WOW you reached 10 Points, here take a star.")),s>24&&(r.stars=[{src:"/img/quiz-star.png",id:1},{src:"/img/quiz-star.png",id:2}],console.log(" WOW you reached 25 Points, here take a star.")),s>49&&(r.stars=[{src:"/img/quiz-star.png",id:1},{src:"/img/quiz-star.png",id:2},{src:"/img/quiz-star.png",id:3}],console.log(" WOW you reached 50 Points, here take a star.")),s>74&&(r.stars=[{src:"/img/quiz-star.png",id:1},{src:"/img/quiz-star.png",id:2},{src:"/img/quiz-star.png",id:3},{src:"/img/quiz-star.png",id:4}],console.log(" WOW you reached 75 Points, here take a star.")),s>99&&(r.stars=[{src:"/img/quiz-star.png",id:1},{src:"/img/quiz-star.png",id:2},{src:"/img/quiz-star.png",id:3},{src:"/img/quiz-star.png",id:4},{src:"/img/quiz-star.png",id:5}],console.log(" WOW you reached 100 Points, here take a star.")),console.log("This is Question: "+r.currentPage)}),r.stars=[{src:"/img/transparent.png",id:1},{src:"/img/transparent.png",id:2},{src:"/img/transparent.png",id:3},{src:"/img/transparent.png",id:4}],r.loadQuiz=function(s){e.get(s).then(function(e){r.quiz=e.data.quiz,r.questions=e.data.questions,r.totalItems=r.questions.length,r.questionId=e.data.questions.Id,r.currentPage=Math.floor(100*Math.random())+1,r.correctAnswer=e.data.questions.correctAnswer,r.$watch("currentPage + itemsPerPage",function(){var e=r.currentPage*r.itemsPerPage,s=e+r.itemsPerPage;r.filteredQuestions=r.questions.slice(e,s)})})},r.loadQuiz("data/quiz.json"),r.Correct=function(e,s){r.current_streak+=1,r.current_streak>r.highest_streak&&(r.highest_streak+=1),n.put("current_streak",r.current_streak),r.current_streak_cookie=n.get("current_streak"),n.put("highest_streak",r.highest_streak),r.highest_streak=n.get("highest_streak");var a=r.currentPage;r.questionAnsweredID=n.put("question_Id",r.currentPage),r.questionAnswered=n.put("question_Correct_"+a,r.currentPage),r.question_answer_cookie=n.get("question_Correct_"+a),r.question_answer_cookie!==r.currentPage?console.log("this has already been answered... Soooo no points for you."):(r.star_score+=1,n.put("star_score",r.star_score)),r.star_score>9&&(r.stars=[{src:"/img/quiz-star.png",id:1}],console.log(" WOW you reached 10 Points, here take a star.")),r.star_score>24&&(r.stars=[{src:"/img/quiz-star.png",id:1},{src:"/img/quiz-star.png",id:2}],console.log(" WOW you reached 25 Points, here take a star.")),r.star_score>49&&(r.stars=[{src:"/img/quiz-star.png",id:1},{src:"/img/quiz-star.png",id:2},{src:"/img/quiz-star.png",id:3}],console.log(" WOW you reached 50 Points, here take a star.")),r.star_score>74&&(r.stars=[{src:"/img/quiz-star.png",id:1},{src:"/img/quiz-star.png",id:2},{src:"/img/quiz-star.png",id:3},{src:"/img/quiz-star.png",id:4}],console.log(" WOW you reached 75 Points, here take a star.")),r.star_score>99&&(r.stars=[{src:"/img/quiz-star.png",id:1},{src:"/img/quiz-star.png",id:2},{src:"/img/quiz-star.png",id:3},{src:"/img/quiz-star.png",id:4},{src:"/img/quiz-star.png",id:5}],console.log(" WOW you reached 100 Points, here take a star.")),(10==r.star_score||25==r.star_score||50==r.star_score||75==r.star_score)&&(t(function(){r.reached={Star:!0}},560),r["continue"]=function(){r.reached={Star:!1},r.show={Correct:!1},r.currentPage=Math.floor(100*Math.random())+1}),100==r.star_score&&(t(function(){r.reached={Hundred:!0},r.hide={Question:!0},r.helx={Hero:!0}},560),r["continue"]=function(){r.reached={Hundred:!1},r.show={Correct:!1},r.currentPage=Math.floor(100*Math.random())+1}),t(function(){r.hide={Question:!0},r.show={Correct:!0},console.log("Correct!")},0),t(function(){r.hide={Question:!1},r.show={Correct:!1},r.currentPage=Math.floor(100*Math.random())+1,console.log("This is Question: "+r.currentPage)},550)},r.Wrong=function(e){r.hide={Question:!0},r.show={Wrong:!0},n.get("highest_streak"),r.star_score<10?r.remaining_Answers=10-r.star_score:r.star_score<25?r.remaining_Answers=25-r.star_score:r.highest_streak<50?r.remaining_Answers=50-r.star_score:r.star_score<75&&(r.remaining_Answers=75-r.star_score),console.log("This is wrong, this is just plain ol wrong.")},r.try_again=function(){t(function(){r.hide={Question:!1},r.show={Correct:!1},r.current_streak=0,r.currentPage=Math.floor(100*Math.random())+1},400)}});